import React from 'react';
import styled from 'styled-components';
import { connect } from 'react-redux';


class FoodGroupBtn extends React.Component {

    handleClick = () => {
        this.props.enableFoodGroupPage(true)
        this.props.enableItemsPage(false)

        // Count
        var milkSum = 0, vegSum = 0, grainSum = 0, meatSum = 0

        // Milk
        for (let i = 0; i < this.props.items.milkGroupUnit.length; i++) {
          switch (this.props.items.milkGroupUnit[i]) {
            case "Piece":
              milkSum += this.props.items.milkGroupQuantity[i]*80
              break;
            case "Cup":
              milkSum += this.props.items.milkGroupQuantity[i]*120
                break;
            case "Gms":
              milkSum += this.props.items.milkGroupQuantity[i]*1
              break;
            case "Bowl":
              milkSum += this.props.items.milkGroupQuantity[i]*200
              break;
            default:
              break;
          }
        }
        this.props.setMilkCount(milkSum)

        // Veg
        for (let i = 0; i < this.props.items.vegGroupUnit.length; i++) {
          switch (this.props.items.vegGroupUnit[i]) {
            case "Piece":
              vegSum += this.props.items.vegGroupQuantity[i]*80
              break;
            case "Cup":
              vegSum += this.props.items.vegGroupQuantity[i]*120
                break;
            case "Gms":
              vegSum += this.props.items.vegGroupQuantity[i]*1
              break;
            case "Bowl":
              vegSum += this.props.items.vegGroupQuantity[i]*200
              break;
            default:
              break;
          }
        }
        this.props.setVegCount(vegSum)

        // Grain
        for (let i = 0; i < this.props.items.grainGroupUnit.length; i++) {
          switch (this.props.items.grainGroupUnit[i]) {
            case "Piece":
              grainSum += this.props.items.grainGroupQuantity[i]*80
              break;
            case "Cup":
              grainSum += this.props.items.grainGroupQuantity[i]*120
                break;
            case "Gms":
              grainSum += this.props.items.grainGroupQuantity[i]*1
              break;
            case "Bowl":
              grainSum += this.props.items.grainGroupQuantity[i]*200
              break;
            default:
              break;
          }
        }
        this.props.setGrainCount(grainSum)

        // Meat
        for (let i = 0; i < this.props.items.meatGroupUnit.length; i++) {
          switch (this.props.items.meatGroupUnit[i]) {
            case "Piece":
              meatSum += this.props.items.meatGroupQuantity[i]*80
              break;
            case "Cup":
              meatSum += this.props.items.meatGroupQuantity[i]*120
                break;
            case "Gms":
              meatSum += this.props.items.meatGroupQuantity[i]*1
              break;
            case "Bowl":
              meatSum += this.props.items.meatGroupQuantity[i]*200
              break;
            default:
              break;
          }
        }
        this.props.setMeatCount(meatSum)
    };

    render() {
        
        return (
        <Wrapper className={!this.props.main.isGroupPageEnabled ? 'enabled' : 'disabled'} onClick={() => this.handleClick()}>
            <svg width="252" height="780" viewBox="0 0 252 780" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M2 30C2 13.4315 15.4315 0 32 0H252V780H32C15.4315 780 2 766.569 2 750V30Z" fill="#F9F9F9"/>
            <path d="M25.6865 85V49.209H50.2227V55.2637H32.9131V63.7354H47.8545V69.79H32.9131V85H25.6865ZM54.5684 71.6699C54.5684 69.3913 55.1299 67.1859 56.2529 65.0537C57.376 62.9215 58.9629 61.2939 61.0137 60.1709C63.0807 59.0479 65.3838 58.4863 67.9229 58.4863C71.8454 58.4863 75.0599 59.764 77.5664 62.3193C80.0729 64.8584 81.3262 68.0729 81.3262 71.9629C81.3262 75.8854 80.0566 79.1406 77.5176 81.7285C74.9948 84.3001 71.8128 85.5859 67.9717 85.5859C65.5954 85.5859 63.3249 85.0488 61.1602 83.9746C59.0117 82.9004 57.376 81.3298 56.2529 79.2627C55.1299 77.1794 54.5684 74.6484 54.5684 71.6699ZM61.5996 72.0361C61.5996 74.6077 62.21 76.5771 63.4307 77.9443C64.6514 79.3115 66.1569 79.9951 67.9473 79.9951C69.7376 79.9951 71.235 79.3115 72.4395 77.9443C73.6602 76.5771 74.2705 74.5915 74.2705 71.9873C74.2705 69.4482 73.6602 67.4951 72.4395 66.1279C71.235 64.7607 69.7376 64.0771 67.9473 64.0771C66.1569 64.0771 64.6514 64.7607 63.4307 66.1279C62.21 67.4951 61.5996 69.4645 61.5996 72.0361ZM85.1348 71.6699C85.1348 69.3913 85.6963 67.1859 86.8193 65.0537C87.9424 62.9215 89.5293 61.2939 91.5801 60.1709C93.6471 59.0479 95.9502 58.4863 98.4893 58.4863C102.412 58.4863 105.626 59.764 108.133 62.3193C110.639 64.8584 111.893 68.0729 111.893 71.9629C111.893 75.8854 110.623 79.1406 108.084 81.7285C105.561 84.3001 102.379 85.5859 98.5381 85.5859C96.1618 85.5859 93.8913 85.0488 91.7266 83.9746C89.5781 82.9004 87.9424 81.3298 86.8193 79.2627C85.6963 77.1794 85.1348 74.6484 85.1348 71.6699ZM92.166 72.0361C92.166 74.6077 92.7764 76.5771 93.9971 77.9443C95.2178 79.3115 96.7233 79.9951 98.5137 79.9951C100.304 79.9951 101.801 79.3115 103.006 77.9443C104.227 76.5771 104.837 74.5915 104.837 71.9873C104.837 69.4482 104.227 67.4951 103.006 66.1279C101.801 64.7607 100.304 64.0771 98.5137 64.0771C96.7233 64.0771 95.2178 64.7607 93.9971 66.1279C92.7764 67.4951 92.166 69.4645 92.166 72.0361ZM141.067 85H134.695V81.1914C133.637 82.6725 132.384 83.7793 130.936 84.5117C129.503 85.2279 128.055 85.5859 126.59 85.5859C123.611 85.5859 121.056 84.3896 118.924 81.9971C116.808 79.5882 115.75 76.2354 115.75 71.9385C115.75 67.5439 116.784 64.2074 118.851 61.9287C120.918 59.6338 123.53 58.4863 126.688 58.4863C129.585 58.4863 132.091 59.6908 134.207 62.0996V49.209H141.067V85ZM122.757 71.4746C122.757 74.2415 123.139 76.2435 123.904 77.4805C125.011 79.2708 126.557 80.166 128.543 80.166C130.122 80.166 131.465 79.4987 132.571 78.1641C133.678 76.8132 134.231 74.8031 134.231 72.1338C134.231 69.1553 133.694 67.015 132.62 65.7129C131.546 64.3945 130.171 63.7354 128.494 63.7354C126.867 63.7354 125.499 64.3864 124.393 65.6885C123.302 66.9743 122.757 68.903 122.757 71.4746ZM42.2881 128.841V122.811H57.8643V137.068C56.3506 138.533 54.1533 139.827 51.2725 140.95C48.4079 142.057 45.5026 142.61 42.5566 142.61C38.8132 142.61 35.5498 141.829 32.7666 140.267C29.9834 138.688 27.8919 136.442 26.4922 133.528C25.0924 130.599 24.3926 127.417 24.3926 123.982C24.3926 120.255 25.1738 116.943 26.7363 114.046C28.2988 111.149 30.5856 108.927 33.5967 107.381C35.8916 106.193 38.748 105.599 42.166 105.599C46.6094 105.599 50.0762 106.535 52.5664 108.406C55.0729 110.262 56.6842 112.833 57.4004 116.121L50.2227 117.464C49.7181 115.706 48.766 114.323 47.3662 113.313C45.9827 112.288 44.2493 111.775 42.166 111.775C39.0085 111.775 36.4938 112.776 34.6221 114.778C32.7666 116.78 31.8389 119.751 31.8389 123.689C31.8389 127.938 32.7829 131.128 34.6709 133.26C36.5589 135.376 39.0329 136.434 42.0928 136.434C43.6064 136.434 45.1201 136.141 46.6338 135.555C48.1637 134.952 49.474 134.228 50.5645 133.382V128.841H42.2881ZM71.0723 142H64.2119V116.072H70.584V119.759C71.6745 118.017 72.651 116.87 73.5137 116.316C74.3926 115.763 75.3854 115.486 76.4922 115.486C78.0547 115.486 79.5602 115.918 81.0088 116.78L78.8848 122.762C77.7292 122.013 76.6549 121.639 75.6621 121.639C74.7018 121.639 73.888 121.907 73.2207 122.444C72.5534 122.965 72.0244 123.917 71.6338 125.301C71.2594 126.684 71.0723 129.581 71.0723 133.992V142ZM82.4004 128.67C82.4004 126.391 82.9619 124.186 84.085 122.054C85.208 119.922 86.7949 118.294 88.8457 117.171C90.9128 116.048 93.2158 115.486 95.7549 115.486C99.6774 115.486 102.892 116.764 105.398 119.319C107.905 121.858 109.158 125.073 109.158 128.963C109.158 132.885 107.889 136.141 105.35 138.729C102.827 141.3 99.6449 142.586 95.8037 142.586C93.4274 142.586 91.1569 142.049 88.9922 140.975C86.8438 139.9 85.208 138.33 84.085 136.263C82.9619 134.179 82.4004 131.648 82.4004 128.67ZM89.4316 129.036C89.4316 131.608 90.042 133.577 91.2627 134.944C92.4834 136.312 93.9889 136.995 95.7793 136.995C97.5697 136.995 99.0671 136.312 100.271 134.944C101.492 133.577 102.103 131.591 102.103 128.987C102.103 126.448 101.492 124.495 100.271 123.128C99.0671 121.761 97.5697 121.077 95.7793 121.077C93.9889 121.077 92.4834 121.761 91.2627 123.128C90.042 124.495 89.4316 126.465 89.4316 129.036ZM131.619 142V138.118C130.675 139.502 129.43 140.592 127.884 141.39C126.354 142.187 124.734 142.586 123.025 142.586C121.284 142.586 119.721 142.203 118.338 141.438C116.954 140.674 115.953 139.599 115.335 138.216C114.716 136.832 114.407 134.92 114.407 132.479V116.072H121.268V127.986C121.268 131.632 121.39 133.87 121.634 134.7C121.894 135.514 122.358 136.165 123.025 136.653C123.693 137.125 124.539 137.361 125.564 137.361C126.736 137.361 127.786 137.044 128.714 136.409C129.642 135.758 130.276 134.961 130.618 134.017C130.96 133.056 131.131 130.721 131.131 127.01V116.072H137.991V142H131.619ZM144.925 116.072H151.321V119.881C152.151 118.579 153.274 117.521 154.69 116.707C156.106 115.893 157.677 115.486 159.402 115.486C162.413 115.486 164.969 116.666 167.068 119.026C169.168 121.386 170.218 124.674 170.218 128.89C170.218 133.219 169.16 136.588 167.044 138.997C164.928 141.39 162.365 142.586 159.354 142.586C157.921 142.586 156.619 142.301 155.447 141.731C154.292 141.162 153.071 140.185 151.785 138.802V151.863H144.925V116.072ZM151.712 128.597C151.712 131.51 152.29 133.667 153.445 135.066C154.601 136.45 156.009 137.142 157.669 137.142C159.264 137.142 160.59 136.507 161.648 135.237C162.706 133.951 163.235 131.852 163.235 128.938C163.235 126.22 162.69 124.202 161.6 122.884C160.509 121.565 159.158 120.906 157.547 120.906C155.87 120.906 154.479 121.557 153.372 122.859C152.265 124.145 151.712 126.058 151.712 128.597Z" fill="#F4B23F"/>
            <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="250" height="780">
            <path d="M0 30C0 13.4315 13.4315 0 30 0H250V780H30C13.4315 780 0 766.569 0 750V30Z" fill="#F9F9F9"/>
            </mask>
            <g mask="url(#mask0)">
            <path d="M86.1113 396.964H89.4214V452.905H86.1113V396.964Z" fill="#FF8282"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M110.385 440.925C110.385 439.817 109.464 438.919 108.328 438.919H67.2038C66.0681 438.919 65.1467 439.817 65.1467 440.925V444.299H58.0767C55.8881 444.299 54.1138 446.03 54.1138 448.164V455.496C54.1138 457.63 55.8881 459.36 58.0767 459.36H59.5474L66.2524 544.347H108.732L114.958 459.36H116.352C118.542 459.36 120.316 457.63 120.316 455.496V448.164C120.316 446.03 118.542 444.299 116.352 444.299H110.385V440.925Z" fill="white"/>
            <path d="M59.6287 459.36L108.177 544.885H66.2494L59.6287 459.36Z" fill="black" fill-opacity="0.16"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M108.328 438.919C109.464 438.919 110.385 439.817 110.385 440.925V444.299H116.352C118.542 444.299 120.316 446.03 120.316 448.164V455.496C120.316 457.63 118.542 459.36 116.352 459.36H58.0767C55.8881 459.36 54.1138 457.63 54.1138 455.496V448.164C54.1138 446.03 55.8881 444.299 58.0767 444.299H65.1467V440.925C65.1467 439.817 66.0681 438.919 67.2038 438.919H108.328Z" fill="black" fill-opacity="0.37"/>
            <path d="M54.1151 449.679H120.317V456.134H54.1151V449.679Z" fill="#FFE1E1" fill-opacity="0.06"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M60.73 476.573H113.692L112.037 500.778H62.9371L60.73 476.573ZM367 550.234C367 547.246 364.516 544.824 361.451 544.824H27.1929C24.1286 544.824 21.6443 547.246 21.6443 550.234V560.93C21.6443 563.918 24.1286 566.34 27.1929 566.34H58.0535V673.919H75.7078V566.34H304.105V674.997H321.759V566.34H361.451C364.516 566.34 367 563.918 367 560.93V550.234Z" fill="#F4B23F"/>
            <path d="M27.1611 555.584H361.483C364.53 555.584 367 557.992 367 560.963C367 563.934 364.53 566.342 361.483 566.342H27.1611C24.1143 566.342 21.6443 563.934 21.6443 560.963C21.6443 557.992 24.1143 555.584 27.1611 555.584Z" fill="black" fill-opacity="0.09"/>
            <path d="M74.6045 567.417L66.881 580.326V673.919H74.6045V567.417Z" fill="black" fill-opacity="0.06"/>
            <path d="M115.766 531.394H290.897C292.492 531.394 293.785 532.655 293.785 534.21V541.643C293.785 543.199 292.492 544.459 290.897 544.459H115.766C114.171 544.459 112.878 543.199 112.878 541.643V534.21C112.878 532.655 114.171 531.394 115.766 531.394Z" fill="#EFE7E7"/>
            <path d="M114.887 540.541H291.774C292.884 540.541 293.784 541.419 293.784 542.501V542.501C293.784 543.583 292.884 544.461 291.774 544.461H114.887C113.777 544.461 112.877 543.583 112.877 542.501C112.877 541.419 113.777 540.541 114.887 540.541Z" fill="black" fill-opacity="0.07"/>
            <path d="M168.495 522.246H206.016C208.607 522.246 210.707 524.294 210.707 526.819C210.707 529.345 208.607 531.392 206.016 531.392H168.495C165.904 531.392 163.805 529.345 163.805 526.819C163.805 524.294 165.904 522.246 168.495 522.246Z" fill="#FFB877"/>
            <path d="M189.937 526.819C189.937 524.293 187.837 522.246 185.247 522.246H167.826C165.236 522.246 163.136 524.293 163.136 526.819C163.136 529.344 165.236 531.392 167.826 531.392H185.247C187.837 531.392 189.937 529.344 189.937 526.819Z" fill="black" fill-opacity="0.07"/>
            <path d="M210.706 504.594C210.706 503.349 210.196 502.156 209.141 501.456C206.301 499.571 199.434 496.117 187.255 496.117C175.076 496.117 168.209 499.571 165.369 501.456C164.313 502.156 163.804 503.349 163.804 504.594V507.102C163.804 509.695 165.959 511.796 168.618 511.796H205.893C208.551 511.796 210.706 509.695 210.706 507.102V504.594Z" fill="#FFB877"/>
            <path d="M175.865 497.421L191.276 511.793H168.495C168.495 511.793 164.278 509.239 163.805 506.567C163.438 504.494 165.145 501.34 165.145 501.34C165.145 501.34 168.307 499.509 170.505 498.727C172.532 498.006 175.865 497.421 175.865 497.421Z" fill="black" fill-opacity="0.1"/>
            <path d="M166.485 517.02H208.026C209.507 517.02 210.707 518.19 210.707 519.633V519.633C210.707 521.077 209.507 522.246 208.026 522.246H166.485C165.005 522.246 163.805 521.077 163.805 519.633C163.805 518.19 165.005 517.02 166.485 517.02Z" fill="#A84E32"/>
            <path d="M166.485 511.794H208.026C209.507 511.794 210.707 512.964 210.707 514.407V514.407C210.707 515.85 209.507 517.02 208.026 517.02H166.485C165.005 517.02 163.805 515.85 163.805 514.407C163.805 512.964 165.005 511.794 166.485 511.794Z" fill="#4A2216"/>
            <path d="M223.434 522.246H260.955C263.546 522.246 265.646 524.294 265.646 526.819C265.646 529.345 263.546 531.392 260.955 531.392H223.434C220.843 531.392 218.744 529.345 218.744 526.819C218.744 524.294 220.843 522.246 223.434 522.246Z" fill="#FFB877"/>
            <path d="M244.878 526.819C244.878 524.293 242.778 522.246 240.188 522.246H222.768C220.177 522.246 218.077 524.293 218.077 526.819C218.077 529.344 220.177 531.392 222.768 531.392H240.188C242.778 531.392 244.878 529.344 244.878 526.819Z" fill="black" fill-opacity="0.07"/>
            <path d="M265.645 504.594C265.645 503.349 265.135 502.156 264.08 501.456C261.239 499.571 254.374 496.117 242.194 496.117C230.014 496.117 223.149 499.571 220.308 501.456C219.253 502.156 218.743 503.349 218.743 504.594V507.102C218.743 509.695 220.898 511.796 223.556 511.796H260.831C263.49 511.796 265.645 509.695 265.645 507.102V504.594Z" fill="#FFB877"/>
            <path d="M230.804 497.421L246.215 511.793H223.434C223.434 511.793 219.217 509.239 218.743 506.567C218.376 504.494 220.083 501.34 220.083 501.34C220.083 501.34 223.246 499.509 225.444 498.727C227.471 498.006 230.804 497.421 230.804 497.421Z" fill="black" fill-opacity="0.1"/>
            <path d="M221.424 517.02H262.965C264.446 517.02 265.646 518.19 265.646 519.633V519.633C265.646 521.077 264.446 522.246 262.965 522.246H221.424C219.943 522.246 218.744 521.077 218.744 519.633C218.744 518.19 219.943 517.02 221.424 517.02Z" fill="#A84E32"/>
            <path d="M221.424 511.794H262.965C264.446 511.794 265.646 512.964 265.646 514.407V514.407C265.646 515.85 264.446 517.02 262.965 517.02H221.424C219.943 517.02 218.744 515.85 218.744 514.407C218.744 512.964 219.943 511.794 221.424 511.794Z" fill="#4A2216"/>
            <path d="M145.049 488.281H147.729V509.186H145.049V488.281Z" fill="#ECB16B"/>
            <path d="M142.364 489.585H145.044V510.49H142.364V489.585Z" fill="#F9BA71"/>
            <path d="M139.695 488.281H142.375V509.186H139.695V488.281Z" fill="#ECB16B"/>
            <path d="M137.019 489.585H139.699V510.49H137.019V489.585Z" fill="#F9BA71"/>
            <path d="M134.326 486.978H137.006V507.883H134.326V486.978Z" fill="#ECB16B"/>
            <path d="M131.638 488.281H134.318V509.186H131.638V488.281Z" fill="#F9BA71"/>
            <path d="M128.972 486.978H131.652V507.883H128.972V486.978Z" fill="#ECB16B"/>
            <path d="M126.296 488.281H128.977V509.186H126.296V488.281Z" fill="#F9BA71"/>
            <path d="M123.607 490.895H126.287V511.8H123.607V490.895Z" fill="#ECB16B"/>
            <path d="M120.93 492.204H123.61V513.109H120.93V492.204Z" fill="#F9BA71"/>
            <path d="M150.402 492.194H153.082V513.099H150.402V492.194Z" fill="#ECB16B"/>
            <path d="M147.715 493.498H150.396V514.402H147.715V493.498Z" fill="#F9BA71"/>
            <path d="M145.039 492.194H147.719V513.099H145.039V492.194Z" fill="#ECB16B"/>
            <path d="M142.362 493.498H145.042V514.402H142.362V493.498Z" fill="#F9BA71"/>
            <path d="M139.679 490.889H142.359V511.794H139.679V490.889Z" fill="#ECB16B"/>
            <path d="M136.991 492.199H139.671V513.104H136.991V492.199Z" fill="#F9BA71"/>
            <path d="M134.325 490.889H137.005V511.794H134.325V490.889Z" fill="#ECB16B"/>
            <path d="M131.647 492.199H134.327V513.104H131.647V492.199Z" fill="#F9BA71"/>
            <path d="M128.96 494.814H131.64V515.719H128.96V494.814Z" fill="#ECB16B"/>
            <path d="M126.283 496.125H128.963V517.029H126.283V496.125Z" fill="#F9BA71"/>
            <path d="M155.768 500.045H119.587L122.937 531.402H152.418L155.768 500.045Z" fill="#F05656"/>
            <path d="M128.298 500.045H119.587L122.938 531.402H141.028L128.298 500.045Z" fill="black" fill-opacity="0.03"/>
            </g>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M192 48.75H222V53.625H192V48.75ZM192 58.5H222V63.375H192V58.5ZM222 68.25H192V73.125H222V68.25Z" fill="#F4B23F"/>
        </svg>

        </Wrapper>
        );
    }
}


const mapStateToProps = state => {
  return {
    items: state.items,
    main: state.main
  };
};

const mapDispatchToProps = dispatch => {
  return {
    enableItemsPage: value => {
        dispatch({
          type: 'itemsList',
          payload: value,
        });
    },
    enableFoodGroupPage: value => {
        dispatch({
        type: 'foodGroup',
        payload: value,
        });
    },
    setMilkCount: value => {
      dispatch({
      type: 'milkAmount',
      payload: value,
      });
    },
    setVegCount: value => {
      dispatch({
      type: 'vegAmount',
      payload: value,
      });
    },
    setGrainCount: value => {
      dispatch({
      type: 'grainAmount',
      payload: value,
      });
    },
    setMeatCount: value => {
      dispatch({
      type: 'meatAmount',
      payload: value,
      });
    },
  };
};
  
  
export default connect(
mapStateToProps,
mapDispatchToProps
)(FoodGroupBtn);


const Wrapper = styled.div`
    position: absolute;
    right: 0px;
    height: 780px;
    width: 250px;
    cursor: pointer;
    box-shadow: 0px 5px 20px rgba(0, 0, 0, 0.3);
    border-top-left-radius: 30px;
    border-bottom-left-radius: 30px;

    &.enabled {
        transform: translateX(0px);
        transition: 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
    }
    &.disabled {
        transform: translateX(250px);
        transition: 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
    }
`;
